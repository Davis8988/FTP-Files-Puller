# For starting ftp-puller
version: '2'

services:
  ftp-puller:
    image: davis8988/ftp-puller:python-3.7.2-slim
    container_name: ftp-puller
    user: 'root'
    # volumes:
      # - /opt/sources/ftp-file-puller/crontab/ftp-puller-crontab:/etc/cron.d/ftp-puller/ftp-puller-crontab
    environment:
      - FTP_ADDRESS=ftp.elbitsystems.com
      - FTP_USER=dp99662
      - FTP_PASSWORD=gAAAAABdg4_xDNvtquLIZ3wVy1UyzmJ7-1XbYh9qDJ6WqngKo78mdSnvNyYX-68nsWSmzT7Y6Pu03_PZgbzEmuLcdeqFedQ3nA==
      - FTP_SOURCE_PATH=/Yokneam/Scripts/Stream
      - FTP_DEST_PATH=/home/ftp
      - EXTRA_ARGS=--hashed --very_verbose --setup_as_crontab_job --crontab_time="* * * * *"
    ports:
      - 21:21
    command: bash -c 'cron && python /root/ftp-files-puller.py $${EXTRA_ARGS}'


